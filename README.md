# LeddarSDK

LeddarSDK is c++ cross-platform SDK that allows you to connect to LeddarTech sensors.
Online documentation can be found here <https://sdk.leddartech.com/>

## 1 - Content Description

=======================

<pre>
./LeddarSDK.chm                     Documentation generated by Doxygen  
./libs                              3rd party libs needed by the SDK  
./shared                            Structures used by the communication classes  
./src/Leddar                        Sensors classes  
./src/LeddarTech                    Utilities  
./src/LeddarConfigurator4_Public    Visual Studio 2013 project files  
./src/LeddarExample                 Example using LeddarSDK  
./src/LeddarPy                      Python wrapper package
./src/Leddar_ROS                    ROS package
</pre>

## 2 - Compiling LeddarSDK

=======================

### Linux build

Launch build.sh to compile all the project:

```bash
    chmod +x build.sh
    ./build.sh
```

The output files will be generated in ./src/release  

In order to run the example, you need either :  

* Run it from the release folder :  
    cd release  
    ./LeddarExample
* Or run it from anywhere with the following command (with the correct PATHTO and architecture (x64, x86 or ARM):  
LD_LIBRARY_PATH=/PATHTO/LeddarSDK/libs/FTDI/linux/x64:/PATHTO/LeddarSDK/libs/MPSSE/linux/x64 ./LeddarExample

Note : you might need to install additional library. For example
    libusbx-devel on fedora or libusb-1.0-0-dev on debian

### Window build

Open ./src/LeddarConfigurator4/LeddarConfigurator4.sln in Visual Studio and compile.

## 3 - Running LeddarExample

=========================

### Linux example

USB Serial:

You need to give user rights to the USB port or run the example using the "sudo" command.

To change USB access, create a file in /etc/udev/rules.d
    Example: 90-LeddarTech.rules
    Add this line: ATTRS{idVendor}=="28f1",MODE="0666"

SPI using FTDI cable:

To access the device, you need to run first this command provided by the FTDI documentation:
    sudo rmmod ftdi_sio
    sudo rmmod usbserial

You need to give user rights to the USB port or run the example using the "sudo" command.
To change USB access, create a file in /etc/udev/rules.d
    Example: 91-FTDI-SPI.rules
    Add this line: ATTRS{idVendor}=="0403",MODE="0666"

## 4 - Python Package

==================  
First you need to build the SDK using instructions found at step 2 - <[Compiling LeddarSDK](https://github.com/leddartech/LeddarSDK#2---compiling-leddarsdk)>

### Linux python

In folder LeddarPy run (sudo) python setup.py install

### Windows python

Depending on your python version and visual studio version, "python setup.py install" can work (see <https://wiki.python.org/moin/WindowsCompilers/>)  
Else you can open the .sln in LeddarPy folder and build the solution (Visual studio 2017)

## 5 - ROS package

==================  
We provide a ROS (<https://www.ros.org/>) package that uses our python package. Instructions can be found in the Leddar_ROS folder.